<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Introduction à Unity</title>

	<link rel="stylesheet" href="https://www.bpesquet.fr/reveal.js/css/reveal.css">
	<link rel="stylesheet" href="https://www.bpesquet.fr/reveal.js/css/theme/white.css">

	
	<link rel="stylesheet" href="https://www.bpesquet.fr/reveal.js/lib/css/zenburn.css">

	
	<link rel="stylesheet" href="https://www.bpesquet.fr/css/reveal.css">

	
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'https:\/\/www.bpesquet.fr\/reveal.js\/css\/print\/pdf.css' : 'https:\/\/www.bpesquet.fr\/reveal.js\/css\/print\/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
    <h1>Introduction à Unity</h1>

    <p><a href="https://ensc.bordeaux-inp.fr">Ecole Nationale Supérieure de Cognitique</a></p>

    <p><a href="https://www.bpesquet.fr">Baptiste Pesquet</a></p>

    
    
    
</section>

			<section>

<h2 id="sommaire">Sommaire</h2>

<ul>
<li>Unity en bref</li>
<li>Concepts-clés</li>
<li>Versionnage d&rsquo;un projet</li>
</ul>

</section>
				<section>

<h2 id="unity-en-bref">Unity en bref</h2>

</section>
				<section>

<p><img src="images/Unity_Technologies_Logo.svg.png" alt="Logo Unity" /></p>

<ul>
<li>Moteur de jeu développé par <a href="https://en.wikipedia.org/wiki/Unity_Technologies">Unity Technologies</a> depuis 2004.</li>
<li>Multiplateformes : PC, Mac, consoles, smartphones, web.</li>
<li><a href="https://store.unity.com/fr/products/unity-personal">Licence personnelle</a> gratuite.</li>
</ul>

</section>
				<section>

<h2 id="made-with-unity">Made with Unity</h2>

<div style="position: relative; height: 270px; width: 480px; overflow: hidden; margin: 0 auto 10px;">
    <iframe src="//www.youtube.com/embed/ctNF6QlLBWo" style="top: 0; left: 0; width: 100%; height: 100%;" allowfullscreen frameborder="0" title="YouTube Video"></iframe>
</div>
      

</section>
				<section>

<p><img src="images/Editor-Breakdown.jpg" alt="Unity editor 1" /></p>

</section>
				<section>

<p><img src="images/unity-editor.png" alt="Unity editor 2" /></p>

</section>
				<section>

<p><img src="images/keep-calm-it-is-demo-time.png" alt="Demo time" /></p>

</section>
				<section>

<h2 id="concepts-clés">Concepts-clés</h2>

</section>
				<section>

<h2 id="project">Project</h2>

<ul>
<li>Rassemble tous les éléments constituant le jeu.</li>
<li>Peut être de type 2D ou 3D.</li>
<li>Correspond physiquement à un répertoire stocké localement ou dans le <em>cloud</em>.</li>
</ul>

<p><img src="images/AssetWorkflowFolderAndProjectWindow.png" alt="Fenêtre Project" /></p>

</section>
				<section>

<section><h2 id="asset">Asset</h2>

<ul>
<li>Ressource utilisable dans un projet.</li>
<li>Nombreux types possibles : image, modèle 3D, texture, fichier audio, script, etc.</li>
</ul>

<p><img src="images/AssetWorkflowImportingFiles.png" alt="Import d'un Asset" /></p>

</section>
				<section>

<h2 id="packages">Packages</h2>

<ul>
<li>Plusieurs Assets peuvent être regroupés dans un <strong>package</strong>.</li>
<li>Unity est livré avec une collections d&rsquo;<strong>Assets standards</strong> : formes de base, gestion de la caméra, des entrées utilisateur, etc.</li>
</ul>

</section>
				<section>

<h2 id="asset-store">Asset Store</h2>

<ul>
<li>Magasin en ligne proposant de nombreux Assets gratuits ou payants.</li>
<li>Permet d&rsquo;importer des packages dans un projet.</li>
</ul>

<p><img src="images/AssetStore-download.png" alt="Asset Store" /></p>
</section>

</section>
				<section>

<h2 id="scene">Scene</h2>

<ul>
<li>Correspond à une partie du jeu (un niveau).</li>
<li>Sauvegardées parmi les Assets.</li>
</ul>

<p><img src="images/NewEmptyScene.png" alt="Nouvelle scène" /></p>

</section>
				<section>

<section><h2 id="gameobject">GameObject</h2>

<ul>
<li>Objet qui représente un élément d&rsquo;une scène.</li>
<li>Constitué d&rsquo;un ensemble de <strong>composants</strong>.</li>
</ul>

<p><img src="images/GameObjectsExamples.png" alt="Exemples de GameObjects" /></p>

</section>
				<section>

<h3 id="hiérarchie-des-gameobjects">Hiérarchie des GameObjects</h3>

<ul>
<li>Création de hiérarchies parent/enfants à plusieurs niveaux en regroupant des GameObjects.</li>
<li>Permet de refléter des relations de <strong>dépendance</strong> ou de <strong>composition</strong> entre objets.</li>
</ul>

<p><img src="images/HierarchyParenting1.png" alt="Hiérarchie des GO" /></p>
</section>

</section>
				<section>

<section><h2 id="composant">Composant</h2>

<p>Ajoute un comportement à un GameObject.</p>

<p><img src="images/RigidBodyGO.png" alt="Exemples de composants" /></p>

</section>
				<section>

<h2 id="le-composant-transform">Le composant Transform</h2>

<p>Définit la position, la rotation et l&rsquo;échelle d&rsquo;un GameObject.</p>

<p><img src="images/TransformExample2.png" alt="Transform 1" /></p>

</section>
				<section>

<h2 id="transform-et-hiérarchie">Transform et hiérarchie</h2>

<ul>
<li>Position, rotation et échelle d&rsquo;un GameObject sont relatives à son parent dans la hiérarchie.</li>
<li>Les valeurs de Transform sont relatives à celles du GameObject parent (<strong>coordonnées locales</strong>) ou absolues en l&rsquo;absence de parent (<strong>coordonnées globales</strong>).</li>
</ul>
</section>

</section>
				<section>

<section><h2 id="mesh">Mesh</h2>

<p>Maillage géométrique d&rsquo;une forme 3D.</p>

<p><img src="images/mesh.png" alt="Mesh" /></p>

</section>
				<section>

<h2 id="mesh-renderer">Mesh renderer</h2>

<p>Composant assurant le rendu d&rsquo;un Mesh à la position définie par le composant Transform du GameObject.</p>

<p><img src="images/class-MeshRenderer-0.png" alt="Mesh renderer" /></p>
</section>

</section>
				<section>

<h2 id="rigidbody">RigidBody</h2>

<p>Composant permettant à un GameObject de réagir selon les lois de la physique :</p>

<ul>
<li>Gestion de la masse, de la gravité, etc.</li>
<li>Application de forces.</li>
<li>Réaction aux collisions.</li>
</ul>

<p><img src="images/Inspector-Rigidbody.png" alt="RigidBody" /></p>

</section>
				<section>

<section><h2 id="collider">Collider</h2>

<p>Composant définissant la forme d&rsquo;un GameObject pour la gestion des collisions :</p>

<ul>
<li><strong>Primitive Collider</strong> : formes géométriques de base (cube, sphère, cylindre, etc).</li>
<li><strong>Mesh Collider</strong> : forme spécifique définie par un Mesh. Plus coûteux en temps de calcul.</li>
</ul>

<p>Par défaut, des GameObjects possédant un Collider ne peuvent pas se chevaucher.</p>

</section>
				<section>

<h2 id="rigidbody-collider">RigidBody Collider</h2>

<p>GameObject possédant un Collider et un RigidBody.</p>

<ul>
<li>Soumis aux lois de la physique.</li>
<li>Déclenche des collisions avec les autres (non-Trigger) Colliders.</li>
<li>Doit être déplacé en lui appliquand des forces.</li>
</ul>

</section>
				<section>

<h2 id="static-collider">Static Collider</h2>

<p>GameObject possédant un Collider mais pas de RigidBody.</p>

<ul>
<li>Déclenche des collisions avec les RigidBody Colliders, mais ne bouge pas.</li>
<li>Ne doit pas être déplacé.</li>
<li>Destiné aux éléments immobiles de la scène (murs, obstacles, etc).</li>
</ul>

</section>
				<section>

<h2 id="kinematic-rigidbody-collider">Kinematic RigidBody Collider</h2>

<p>GameObject possédant un Collider et un RigidBody défini comme Kinematic.</p>

<ul>
<li>N&rsquo;est pas soumis aux lois de la physique.</li>
<li>Déclenche des collisions avec les RigidBody Colliders, mais ne bouge pas.</li>
<li>Peut être déplacé en modifiant son Transform.</li>
<li>Destiné aux éléments animés du décor (portes, objets à récupérer, etc).</li>
</ul>

</section>
				<section>

<h2 id="trigger-collider">Trigger Collider</h2>

<p>GameObject dont le Collider est défini comme Trigger.</p>

<p><img src="images/is-trigger-check-box.jpg" alt="IsTrigger" /></p>

<ul>
<li>Autorise le chevauchement sans déclencher de collision.</li>
<li>Permet de définir une <strong>zone</strong> et de réagir lorsque des RigidBody Colliders y pénètrent.</li>
</ul>

</section>
				<section>

<p><a href="https://docs.unity3d.com/Manual/CollidersOverview.html"><img src="images/UnityCollisionMatrix.png" alt="Collision Matrix" /></a></p>
</section>

</section>
				<section>

<h2 id="prefab">Prefab</h2>

<ul>
<li>Type d&rsquo;Asset permettant d&rsquo;instancier des GameObjects à partir d&rsquo;un modèle commun.</li>
<li>Changements d&rsquo;un Prefab appliqués à toutes ses instances.</li>
<li>Une instance de Prefab peut aussi être modifiée individuellement.</li>
</ul>

<p><img src="images/PrefabWithOverride.png" alt="Prefab" /></p>

</section>
				<section>

<h2 id="light">Light</h2>

<p>Type de GameObject permettant d&rsquo;ajouter une source de lumière à la scène.</p>

<p><img src="images/Light-Spot.png" alt="Lights" /></p>

</section>
				<section>

<h2 id="camera">Camera</h2>

<p>Type de GameObject qui calcule la vue de la scène affichée au joueur.</p>

<p><img src="images/CameraPerspectiveAndOrtho.jpg" alt="Différentes caméras" /></p>

</section>
				<section>

<section><h2 id="script">Script</h2>

<ul>
<li>Type d&rsquo;Asset permettant de coder le comportement d&rsquo;un GameObject en langage C# ou UnityScript.</li>
<li>Doit faire partie des composants du GameObject.</li>
<li>Peut accéder aux propriétés du GameObject définies par ses autres composants.</li>
</ul>

</section>
				<section>

<h2 id="anatomie-d-un-script">Anatomie d&rsquo;un script</h2>

<pre><code class="language-csharp">// ... (directives using)

// MonoBehaviour : superclasse de tous les scripts Unity
public class MainPlayer : MonoBehaviour {
    // Appelée juste avant le rendu de la première image
    void Start() { ... }

    // Appelée à chaque nouvelle image
    // L'intervalle de temps entre deux appels peut varier
    void Update() { ... }

    // Appelée à intervalles réguliers (0.02s par défaut)
    void FixedUpdate() { ... }
}
</code></pre>

</section>
				<section>

<h2 id="déplacements-scriptés">Déplacements scriptés</h2>

<p><a href="https://unity3d.com/fr/learn/tutorials/topics/scripting/delta-time"><img src="images/time.deltatime.gif" alt="Time.deltaTtime" /></a></p>
</section>

</section>
				<section>

<h2 id="versionnage-d-un-projet">Versionnage d&rsquo;un projet</h2>

</section>
				<section>

<h2 id="le-problème">Le problème</h2>

<ul>
<li>Taille de certains Assets.</li>
<li>Nombreux fichiers binaires dans un projet : modèles 3D, images, sons, etc.</li>
</ul>

</section>
				<section>

<h2 id="les-solutions">Les solutions</h2>

<ol><li class="fragment">Partage manuel (disque commun, Drive, etc).</li><li class="fragment">Dépôt Git standard.</li><li class="fragment">Git LFS.</li></ol>

</section>
				<section>

<section><h2 id="git-large-file-system">Git Large File System</h2>

<p><a href="https://git-lfs.github.com"><img src="images/git-lfs.gif" alt="Git LFS" /></a></p>

</section>
				<section>

<h2 id="fichier-gitattributes">Fichier .gitattributes</h2>

<pre><code class="language-bash">* text=auto

# Unity files
*.meta -text -merge=unityamlmerge
*.unity -text -merge=unityamlmerge
*.asset -text -merge=unityamlmerge
*.prefab -text -merge=unityamlmerge

# Image formats
*.psd filter=lfs diff=lfs merge=lfs -text
*.jpg filter=lfs diff=lfs merge=lfs -text
*.png filter=lfs diff=lfs merge=lfs -text
*.gif filter=lfs diff=lfs merge=lfs -text
*.bmp filter=lfs diff=lfs merge=lfs -text
*.tga filter=lfs diff=lfs merge=lfs -text
*.tiff filter=lfs diff=lfs merge=lfs -text
*.iff filter=lfs diff=lfs merge=lfs -text
*.pict filter=lfs diff=lfs merge=lfs -text
*.dds filter=lfs diff=lfs merge=lfs -text
*.xcf filter=lfs diff=lfs merge=lfs -text

# Audio formats
*.mp3 filter=lfs diff=lfs merge=lfs -text
*.ogg filter=lfs diff=lfs merge=lfs -text
*.wav filter=lfs diff=lfs merge=lfs -text
*.aiff filter=lfs diff=lfs merge=lfs -text
*.aif filter=lfs diff=lfs merge=lfs -text
*.mod filter=lfs diff=lfs merge=lfs -text
*.it filter=lfs diff=lfs merge=lfs -text
*.s3m filter=lfs diff=lfs merge=lfs -text
*.xm filter=lfs diff=lfs merge=lfs -text

# Video formats
*.mov filter=lfs diff=lfs merge=lfs -text
*.avi filter=lfs diff=lfs merge=lfs -text
*.asf filter=lfs diff=lfs merge=lfs -text
*.mpg filter=lfs diff=lfs merge=lfs -text
*.mpeg filter=lfs diff=lfs merge=lfs -text
*.mp4 filter=lfs diff=lfs merge=lfs -text

# 3D formats
*.fbx filter=lfs diff=lfs merge=lfs -text
*.obj filter=lfs diff=lfs merge=lfs -text
*.max filter=lfs diff=lfs merge=lfs -text
*.blend filter=lfs diff=lfs merge=lfs -text
*.dae filter=lfs diff=lfs merge=lfs -text
*.mb filter=lfs diff=lfs merge=lfs -text
*.ma filter=lfs diff=lfs merge=lfs -text
*.3ds filter=lfs diff=lfs merge=lfs -text
*.dfx filter=lfs diff=lfs merge=lfs -text
*.c4d filter=lfs diff=lfs merge=lfs -text
*.lwo filter=lfs diff=lfs merge=lfs -text
*.lwo2 filter=lfs diff=lfs merge=lfs -text
*.abc filter=lfs diff=lfs merge=lfs -text
*.3dm filter=lfs diff=lfs merge=lfs -text

# Build
*.dll filter=lfs diff=lfs merge=lfs -text
*.pdb filter=lfs diff=lfs merge=lfs -text
*.mdb filter=lfs diff=lfs merge=lfs -text

# Packaging
*.zip filter=lfs diff=lfs merge=lfs -text
*.7z filter=lfs diff=lfs merge=lfs -text
*.gz filter=lfs diff=lfs merge=lfs -text
*.rar filter=lfs diff=lfs merge=lfs -text
*.tar filter=lfs diff=lfs merge=lfs -text

</code></pre>

<p><a href="https://gist.github.com/bpesquet/4e28b431b673addef1774d497b614b33">Source</a></p>

</section>
				<section>

<h2 id="github-for-unity">GitHub For Unity</h2>

<p><a href="https://unity.github.com/">https://unity.github.com/</a></p>

<ul>
<li>Extension qui intègre Git et GitHub dans Unity.</li>
<li>Authentification GitHub, LFS, etc.</li>
<li>Version 1.0 : encore instable.</li>
</ul>
</section>
</section>
				</div>
	</div>
	<div>
		<a href="https://ensc.bordeaux-inp.fr">
			<img src="https://www.bpesquet.fr/images/ENSC.jpg" style="position: absolute;
						bottom: 10px;
						left: 10px;" />
		</a>
	</div>

	<script src="https://www.bpesquet.fr/reveal.js/lib/js/head.min.js"></script>
	<script src="https://www.bpesquet.fr/reveal.js/js/reveal.js"></script>

	<script>
		
		
		
		Reveal.initialize({
			
			history: false,
			
			slideNumber: true,
			
			transition: "convex",
			math: {
				mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
				config: 'TeX-MML-AM_HTMLorMML'  
			},
			dependencies: [
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/markdown\/marked.js' },
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/markdown\/markdown.js' },
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/notes\/notes.js', async: true },
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/zoom-js\/zoom.js', async: true },
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/highlight\/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
				{ src: 'https:\/\/www.bpesquet.fr\/reveal.js\/plugin\/math\/math.js', async: true }
			]
		});
	</script>
</body>

</html>